<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>People Can Vote</title>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
<link rel="stylesheet" href="styles/main.css">
<script>
  // Optional runtime config injected by hosting (do not commit secrets here).
  window.__PCV_CONFIG__ = window.__PCV_CONFIG__ || {};
</script>

</head>
<body>

<div class="nav">
  <div class="navInner">
    <div class="row" style="gap:10px;">
      <span class="brand">People Can Vote</span>
    </div>
    <div class="navRight">
      <div class="searchWrap">
        <input id="globalSearch" class="searchInput" type="search" data-i18n-placeholder="nav.searchPlaceholder" placeholder="Hledat zemi nebo ud√°lost">
        <datalist id="searchOptions"></datalist>
      </div>
      <div class="navStatus">
        <span id="navUser" class="muted small" data-i18n="nav.loading">Naƒç√≠t√°n√≠‚Ä¶</span>
        <span id="navHint" class="navHint"></span>
      </div>
      <button id="loginNavBtn" data-i18n="nav.login">P≈ôihl√°sit</button>
      <button id="registerNavBtn" data-i18n="nav.register">Registrovat</button>
      <button id="changePassNavBtn" class="hidden" data-i18n="nav.changePassword">Zmƒõnit heslo</button>
      <button id="logoutNavBtn" class="hidden" data-i18n="nav.logout">Odhl√°sit</button>
      <label class="small muted" for="languageSelect">üåê</label>
      <select id="languageSelect" class="langSelect" aria-label="Language">
        <option value="cs">ƒåe≈°tina</option>
        <option value="en">English</option>
      </select>
    </div>
  </div>
</div>

<div class="subnav">
  <div class="subnavInner">
    <div id="breadcrumb" class="breadcrumb"></div>
    <div id="continentTabs" class="continentTabs"></div>
    <div id="countryPopover" class="countryPopover">
      <div id="countryList" class="countryList"></div>
    </div>
  </div>
</div>

<main>
  <section id="homeView" class="view active">
    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b class="top3Title" data-i18n="home.top3Title">TOP 3 ud√°losti (nejv√≠c hlasuj√≠c√≠ch)</b>
        <button id="refreshTop3Btn" data-i18n="home.refresh">Obnovit</button>
      </div>
      <div id="top3" class="top3grid" style="margin-top:10px;"></div>
    </div>

    <h1 id="homeTitle" data-i18n="home.chooseCountry">Vyber zemi</h1>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b data-i18n="home.mapTitle">Interaktivn√≠ mapa svƒõta</b>
      </div>
      <div id="worldMap" style="margin-top:10px;"></div>
      <div class="mapNote" data-i18n="home.mapNote">Klikni na zemi a zobraz jej√≠ ud√°losti.</div>
    </div>
  </section>

  <section id="countryView" class="view">
    <div class="eventDetailHeader">
      <div>
        <h1 id="countryTitle" data-i18n="country.title">Zemƒõ</h1>
        <div id="countrySubtitle" class="muted" data-i18n="country.subtitle">V√Ωbƒõr zemƒõ podle kontinentu</div>
      </div>
      <button id="backToHomeBtn" class="backBtn" type="button" data-i18n="country.backHome">Zpƒõt na √∫vod</button>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b data-i18n="country.topEvent">TOP ud√°lost v zemi</b>
      </div>
      <div id="countryTop" class="muted" style="margin-top:10px;" data-i18n="common.loading">Naƒç√≠t√°n√≠‚Ä¶</div>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b data-i18n="country.activeEvents">Aktivn√≠ ud√°losti</b>
      </div>
      <div id="eventsActive" class="list" style="margin-top:10px;"></div>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b data-i18n="country.archive">Archiv / ukonƒçen√© hlasov√°n√≠</b>
      </div>
      <div id="eventsArchive" class="list" style="margin-top:10px;"></div>
    </div>
  </section>

  <section id="eventView" class="view">
    <div class="eventDetailHeader">
      <div>
        <h1 id="eventTitle" data-i18n="event.title">Ud√°lost</h1>
        <div id="eventMeta" class="muted"></div>
      </div>
      <div class="eventHeaderRight">
        <div class="row" style="gap:8px;">
          <span id="eventStatus" class="eventStatus" data-i18n="event.active">Aktivn√≠</span>
          <button id="backToCountryBtn" class="backBtn" type="button" data-i18n="event.backToCountry">Zpƒõt na zemi</button>
        </div>
      </div>
    </div>
    <div class="eventCountryRow">
      <div id="eventCountryHeader" class="eventCountryHeader muted"></div>
    </div>

    <div id="eventDetailCard" class="card"></div>
  </section>
</main>

<!-- AUTH MODAL -->
<div id="overlay" class="overlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modalHeader">
      <div class="row" style="gap:10px;">
        <div id="modalTitle" class="modalTitle" data-i18n="modal.title">√öƒçet</div>
        <div class="tabs">
          <button id="tabLogin" class="tab active" type="button" data-i18n="modal.loginTab">P≈ôihl√°≈°en√≠</button>
          <button id="tabRegister" class="tab" type="button" data-i18n="modal.registerTab">Registrace</button>
          <button id="tabUpdate" class="tab hidden" type="button" data-i18n="modal.updateTab">Nov√© heslo</button>
        </div>
      </div>
      <button id="closeModalBtn" class="ghost" type="button" data-i18n-aria-label="modal.close" aria-label="Zav≈ô√≠t">‚úï</button>
    </div>
    <div class="modalBody">
      <div class="field" id="emailField">
        <label for="authEmail"><b data-i18n="modal.email">Email</b></label>
        <input id="authEmail" type="email" autocomplete="email" data-i18n-placeholder="modal.emailPlaceholder" placeholder="email@domena.cz">
      </div>

      <div class="field" id="passwordField">
        <label for="authPassword"><b data-i18n="modal.password">Heslo</b></label>
        <input id="authPassword" type="password" autocomplete="current-password" data-i18n-placeholder="modal.passwordPlaceholder" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        <div class="muted small" data-i18n="modal.passwordHint">Doporuƒçeno aspo≈à 8 znak≈Ø.</div>
      </div>

      <div class="field hidden" id="password2Field">
        <label for="authPassword2"><b data-i18n="modal.passwordAgain">Heslo znovu</b></label>
        <input id="authPassword2" type="password" autocomplete="new-password" data-i18n-placeholder="modal.passwordPlaceholder" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      </div>

      <div class="actions">
        <div id="forgotWrap">
          <button id="forgotBtn" class="link" type="button" data-i18n="modal.forgot">Zapomenut√© heslo</button>
        </div>
        <div class="actionsRight">
          <button id="submitAuthBtn" class="primary" type="button" data-i18n="modal.login">P≈ôihl√°sit</button>
        </div>
      </div>

      <div id="authMsg" class="msg muted"></div>
    </div>
  </div>
</div>

<div id="boot">Booting‚Ä¶</div>

<script type="module" src="js/app.js"></script>

</body>
</html>
