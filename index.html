<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>People Can Vote</title>
<link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
<link rel="stylesheet" href="styles/main.css">

</head>
<body>

<div class="nav">
  <div class="navInner">
    <div class="row" style="gap:10px;">
      <span class="brand">People Can Vote</span>
    </div>
    <div class="navRight">
      <div class="searchWrap">
        <input id="globalSearch" class="searchInput" type="search" placeholder="Hledat zemi nebo událost">
        <datalist id="searchOptions"></datalist>
      </div>
      <div class="navStatus">
        <span id="navUser" class="muted small">Načítání…</span>
        <span id="navHint" class="navHint"></span>
      </div>
      <button id="loginNavBtn">Přihlásit</button>
      <button id="registerNavBtn">Registrovat</button>
      <button id="changePassNavBtn" class="hidden">Změnit heslo</button>
      <button id="logoutNavBtn" class="hidden">Odhlásit</button>
    </div>
  </div>
</div>

<div class="subnav">
  <div class="subnavInner">
    <div id="breadcrumb" class="breadcrumb"></div>
    <div id="continentTabs" class="continentTabs"></div>
    <div id="countryPopover" class="countryPopover">
      <div id="countryList" class="countryList"></div>
    </div>
  </div>
</div>

<main>
  <section id="homeView" class="view active">
    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b class="top3Title">TOP 3 události (nejvíc hlasujících)</b>
        <button id="refreshTop3Btn">Obnovit</button>
      </div>
      <div id="top3" class="top3grid" style="margin-top:10px;"></div>
    </div>

    <h1 id="homeTitle">Vyber zemi</h1>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b>Interaktivní mapa světa</b>
      </div>
      <div id="worldMap" style="margin-top:10px;"></div>
      <div class="mapNote">Klikni na zemi a zobraz její události.</div>
    </div>
  </section>

  <section id="countryView" class="view">
    <div class="eventDetailHeader">
      <div>
        <h1 id="countryTitle">Země</h1>
        <div id="countrySubtitle" class="muted">Výběr země podle kontinentu</div>
      </div>
      <button id="backToHomeBtn" class="backBtn" type="button">Zpět na úvod</button>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b>TOP událost v zemi</b>
      </div>
      <div id="countryTop" class="muted" style="margin-top:10px;">Načítání…</div>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b>Aktivní události</b>
      </div>
      <div id="eventsActive" class="list" style="margin-top:10px;"></div>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <b>Archiv / ukončené hlasování</b>
      </div>
      <div id="eventsArchive" class="list" style="margin-top:10px;"></div>
    </div>
  </section>

  <section id="eventView" class="view">
    <div class="eventDetailHeader">
      <div>
        <h1 id="eventTitle">Událost</h1>
        <div id="eventMeta" class="muted"></div>
      </div>
      <div class="eventHeaderRight">
        <div class="row" style="gap:8px;">
          <span id="eventStatus" class="eventStatus">Aktivní</span>
          <button id="backToCountryBtn" class="backBtn" type="button">Zpět na zemi</button>
        </div>
      </div>
    </div>
    <div class="eventCountryRow">
      <div id="eventCountryHeader" class="eventCountryHeader muted"></div>
    </div>

    <div id="eventDetailCard" class="card"></div>
  </section>
</main>

<!-- AUTH MODAL -->
<div id="overlay" class="overlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modalHeader">
      <div class="row" style="gap:10px;">
        <div id="modalTitle" class="modalTitle">Účet</div>
        <div class="tabs">
          <button id="tabLogin" class="tab active" type="button">Přihlášení</button>
          <button id="tabRegister" class="tab" type="button">Registrace</button>
          <button id="tabUpdate" class="tab hidden" type="button">Nové heslo</button>
        </div>
      </div>
      <button id="closeModalBtn" class="ghost" type="button" aria-label="Zavřít">✕</button>
    </div>
    <div class="modalBody">
      <div class="field" id="emailField">
        <label for="authEmail"><b>Email</b></label>
        <input id="authEmail" type="email" autocomplete="email" placeholder="email@domena.cz">
      </div>

      <div class="field" id="passwordField">
        <label for="authPassword"><b>Heslo</b></label>
        <input id="authPassword" type="password" autocomplete="current-password" placeholder="••••••••">
        <div class="muted small">Doporučeno aspoň 8 znaků.</div>
      </div>

      <div class="field hidden" id="password2Field">
        <label for="authPassword2"><b>Heslo znovu</b></label>
        <input id="authPassword2" type="password" autocomplete="new-password" placeholder="••••••••">
      </div>

      <div class="actions">
        <div id="forgotWrap">
          <button id="forgotBtn" class="link" type="button">Zapomenuté heslo</button>
        </div>
        <div class="actionsRight">
          <button id="submitAuthBtn" class="primary" type="button">Přihlásit</button>
        </div>
      </div>

      <div id="authMsg" class="msg muted"></div>
    </div>
  </div>
</div>

<div id="boot">Booting…</div>

<script src="js/app.js"></script>

</body>
</html>
